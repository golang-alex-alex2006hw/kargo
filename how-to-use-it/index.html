<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Kargo | How to use it ?</title>
    <meta name="description" content="A Docker based solution to deploy Geospatial Services">
    
    
    <link rel="preload" href="/kargo/assets/css/4.styles.024faf6a.css" as="style"><link rel="preload" href="/kargo/assets/js/app.3336f778.js" as="script"><link rel="preload" href="/kargo/assets/js/1.edfb1d70.js" as="script"><link rel="prefetch" href="/kargo/assets/js/0.6bec6429.js"><link rel="prefetch" href="/kargo/assets/js/2.eb86d3fa.js"><link rel="prefetch" href="/kargo/assets/js/3.b470a261.js">
    <link rel="stylesheet" href="/kargo/assets/css/4.styles.024faf6a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/kargo/" class="home-link router-link-active"><!----><span class="site-name">
      Kargo
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/kargo/what-is-it/" class="nav-link">What is it ?</a></div><div class="nav-item"><a href="/kargo/how-does-it-work/" class="nav-link">How doest it work ?</a></div><div class="nav-item"><a href="/kargo/how-to-use-it/" class="nav-link router-link-exact-active router-link-active">How to use it ?</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/kargo/what-is-it/" class="nav-link">What is it ?</a></div><div class="nav-item"><a href="/kargo/how-does-it-work/" class="nav-link">How doest it work ?</a></div><div class="nav-item"><a href="/kargo/how-to-use-it/" class="nav-link router-link-exact-active router-link-active">How to use it ?</a></div><!----></nav><div class="carbon-ads"></div><!----></div><div class="page"><div class="content"><h1 id="how-to-use-it"><a href="#how-to-use-it" aria-hidden="true" class="header-anchor">#</a> How to use it ?</h1><p>::: Warning
Even if <strong>kargo</strong> let you configure and manage all the services using the simplicity of Docker, we assume you are enough familiar with the underlying technologies (i.e. TileserverGL, Mapproxy, GeoServer, Postgis) to be able to customize their configurations in order to address your needs.
:::</p><h2 id="prerequisites"><a href="#prerequisites" aria-hidden="true" class="header-anchor">#</a> Prerequisites</h2><p>Installing <strong>kargo</strong> is quite easy. Howerver, you need to have a version of Docker Engine and Docker Compose installed supporting version 3 of compose file.</p><p>If you already have these, congratulations ! If not, please follow the installation instructions:</p><ol><li>Docker Engine: https://docs.docker.com/engine/installation/</li><li>Docker Compose: https://docs.docker.com/compose/install/.</li></ol><h2 id="install-kargo"><a href="#install-kargo" aria-hidden="true" class="header-anchor">#</a> Install kargo</h2><ol><li>Clone the <strong>kargo</strong> repository in the directory of your choice</li></ol><div class="language- extra-class"><pre class="language-text"><code>git clone https://github.com/kalisio/kargo.git
</code></pre></div><ol start="2"><li>Create a network with the name of your choice, here: <strong>kargo</strong></li></ol><div class="language- extra-class"><pre class="language-text"><code>docker network create kargo
</code></pre></div><ol start="3"><li><p>Make a copy of our <code>.env.sample</code> and rename it to <code>.env</code></p></li><li><p>Update the file with your preferences:</p></li></ol><div class="language- extra-class"><pre class="language-text"><code>#
# KARGO
#
# This is the .env file to set up your kargo environment

# The path to your datasets
DATA_PATH=/mnt/data

# Postgis configuration
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
PGDATA=/mnt/data/postgis

# Docker network to be used
NETWORK=kargo

# Virtual hosts 
# Uncomment and update the lines below if you use an nginx-proxy based solution in front of kargo
#GEOSERVER_VHOST=geoserver.your-domain.com
#MAPPROXY_VHOST=mapproxy.your-domain.com
#TILESERVERGL_VHOST=tileservergl.your-domain.com
</code></pre></div><ol start="5"><li>Tell docker to start the services</li></ol><div class="language- extra-class"><pre class="language-text"><code>docker-compose up -d
</code></pre></div><h3 id="using-nginx-with-kargo"><a href="#using-nginx-with-kargo" aria-hidden="true" class="header-anchor">#</a> Using nginx with kargo</h3><p>If you need to expose all the services behind a reverse proxy, we recomend to use the solution proposed by Jason Wilder:
https://github.com/jwilder/nginx-proxy</p><ol><li>Run the <code>nginx-proxy</code> container</li></ol><div class="language- extra-class"><pre class="language-text"><code>docker run --name nginx-proxy -d -p 80:80 -v /var/run/docker.sock:/tmp/docker.sock:ro jwilder/nginx-proxy
</code></pre></div><ol start="2"><li>Attach the container to the kargo network (https://github.com/jwilder/nginx-proxy#multiple-networks)</li></ol><div class="language- extra-class"><pre class="language-text"><code>docker network connect kargo nginx-proxy
</code></pre></div><ol start="3"><li>Run the services using the <code>docker-compose.nginx.yml</code> file to enable them to work with <code>nginx-proxy</code></li></ol><div class="language- extra-class"><pre class="language-text"><code>docker-compose -f docker-compose.yml -f docker-compose.nginx.yml up -d
</code></pre></div></div><div class="content edit-link"><!----><!----></div><!----><div class="bsa-cpc-wrapper"><div class="bsa-cpc"></div></div></div></div></div>
    <script src="/kargo/assets/js/1.edfb1d70.js" defer></script><script src="/kargo/assets/js/app.3336f778.js" defer></script>
  </body>
</html>
